(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1639:function(module,exports,__webpack_require__){var api=__webpack_require__(8),content=__webpack_require__(1649);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},1641:function(module,exports,__webpack_require__){var api=__webpack_require__(8),content=__webpack_require__(1645);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},1643:function(module,exports,__webpack_require__){var api=__webpack_require__(8),content=__webpack_require__(1644);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},1644:function(module,exports,__webpack_require__){(exports=__webpack_require__(6)(!1)).push([module.i,'.SectionDecorator-module_wrapper__-oNHl {\n  position: relative;\n}\n\n.SectionDecorator-module_selected__10MUC > section::before {\n  content: "";\n  display: block;\n  position: absolute;\n  border: solid 1px currentColor;\n  top: 5px;\n  left: 5px;\n  right: 5px;\n  bottom: 5px;\n  z-index: 9;\n  pointer-events: none;\n}\n\n.SectionDecorator-module_transitionSelected__1aAvr > section:before {\n  content: "";\n  position: absolute;\n  display: block;\n  top: 0;\n  width: 100%;\n  border-top: dotted 2px #fff;\n  z-index: 9;\n  background-color: #555;\n  opacity: 0.7;\n}\n\n.SectionDecorator-module_controls__1HZ7e {\n  position: absolute;\n  top: -33px;\n  right: -2px;\n  height: 100%;\n  padding-left: 20px;\n  z-index: 10;\n  display: none;\n}\n\n.SectionDecorator-module_transitionSelected__1aAvr .SectionDecorator-module_controls__1HZ7e,\n.SectionDecorator-module_selected__10MUC .SectionDecorator-module_controls__1HZ7e {\n  display: block;\n}\n\n.SectionDecorator-module_transitionSelected__1aAvr .SectionDecorator-module_editToolbar__2vSGs {\n  visibility: hidden;\n}\n\n.SectionDecorator-module_toolbar__1ubWF {\n  position: absolute;\n  padding: 10px 0 10px 10px;\n  z-index: 10;\n  overflow: hidden;\n}\n\n.SectionDecorator-module_editToolbar__2vSGs {\n  position: -webkit-sticky;\n  position: sticky;\n  top: calc(50vh - 30px);\n  margin-top: 55px;\n}\n\n.SectionDecorator-module_transitionToolbarBefore__mOG3c {\n  top: 0;\n}\n\n.SectionDecorator-module_transitionToolbarAfter__3N_Ej {\n  bottom: -63px;\n}\n',""]),exports.locals={wrapper:"SectionDecorator-module_wrapper__-oNHl",selected:"SectionDecorator-module_selected__10MUC",transitionSelected:"SectionDecorator-module_transitionSelected__1aAvr",controls:"SectionDecorator-module_controls__1HZ7e",editToolbar:"SectionDecorator-module_editToolbar__2vSGs SectionDecorator-module_toolbar__1ubWF",toolbar:"SectionDecorator-module_toolbar__1ubWF",transitionToolbarBefore:"SectionDecorator-module_transitionToolbarBefore__mOG3c SectionDecorator-module_toolbar__1ubWF",transitionToolbarAfter:"SectionDecorator-module_transitionToolbarAfter__3N_Ej SectionDecorator-module_toolbar__1ubWF"},module.exports=exports},1645:function(module,exports,__webpack_require__){(exports=__webpack_require__(6)(!1)).push([module.i,".ContentElementDecorator-module_wrapper__3l93F {\n}\n",""]),exports.locals={wrapper:"ContentElementDecorator-module_wrapper__3l93F"},module.exports=exports},1649:function(module,exports,__webpack_require__){(exports=__webpack_require__(6)(!1)).push([module.i,".index-module_container__1ieS4 {\n  position: relative;\n}\n\n.index-module_hoveringToolbar__1ZuIF {\n  position: absolute;\n  z-index: 1;\n  top: -10000px;\n  left: -10000px;\n  margin-top: -6px;\n  opacity: 0;\n  background-color: #222;\n  border-radius: 4px;\n}\n\n.index-module_selection__2aFU5 {\n  display: none;\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  pointer-events: none;\n}\n",""]),exports.locals={container:"index-module_container__1ieS4",hoveringToolbar:"index-module_hoveringToolbar__1ZuIF",selection:"index-module_selection__2aFU5"},module.exports=exports},1653:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),EditorState=__webpack_require__(292);function EntryDecorator(props){return react_default.a.createElement(EditorState.a,null,props.children)}EntryDecorator.displayName="EntryDecorator",EntryDecorator.__docgenInfo={description:"",methods:[],displayName:"EntryDecorator"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/frontend/inlineEditing/EntryDecorator.js"]={name:"EntryDecorator",docgenInfo:EntryDecorator.__docgenInfo,path:"src/frontend/inlineEditing/EntryDecorator.js"});__webpack_require__(28);var classnames=__webpack_require__(3),classnames_default=__webpack_require__.n(classnames),SectionDecorator_module=__webpack_require__(1643),SectionDecorator_module_default=__webpack_require__.n(SectionDecorator_module),ContentElementDecorator_module=__webpack_require__(1641),ContentElementDecorator_module_default=__webpack_require__.n(ContentElementDecorator_module),Toolbar=__webpack_require__(538),i18n=__webpack_require__(215);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var settings=({styles:styles={},...props})=>react_default.a.createElement("svg",_extends({"aria-hidden":"true","data-prefix":"fas","data-icon":"pencil-alt",className:(styles["svg-inline--fa"]||"svg-inline--fa")+" "+(styles["fa-pencil-alt"]||"fa-pencil-alt")+" "+(styles["fa-w-16"]||"fa-w-16"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},props),react_default.a.createElement("path",{fill:"currentColor",d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"}));function arrows_extends(){return(arrows_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var arrows=({styles:styles={},...props})=>react_default.a.createElement("svg",arrows_extends({"aria-hidden":"true","data-prefix":"fas","data-icon":"random",className:(styles["svg-inline--fa"]||"svg-inline--fa")+" "+(styles["fa-random"]||"fa-random")+" "+(styles["fa-w-16"]||"fa-w-16"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},props),react_default.a.createElement("path",{fill:"currentColor",d:"M504.971 359.029c9.373 9.373 9.373 24.569 0 33.941l-80 79.984c-15.01 15.01-40.971 4.49-40.971-16.971V416h-58.785a12.004 12.004 0 01-8.773-3.812l-70.556-75.596 53.333-57.143L352 336h32v-39.981c0-21.438 25.943-31.998 40.971-16.971l80 79.981zM12 176h84l52.781 56.551 53.333-57.143-70.556-75.596A11.999 11.999 0 00122.785 96H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12zm372 0v39.984c0 21.46 25.961 31.98 40.971 16.971l80-79.984c9.373-9.373 9.373-24.569 0-33.941l-80-79.981C409.943 24.021 384 34.582 384 56.019V96h-58.785a12.004 12.004 0 00-8.773 3.812L96 336H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h110.785c3.326 0 6.503-1.381 8.773-3.812L352 176h32z"}));function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function SectionDecorator(props){var t=Object(i18n.b)({locale:"ui"}).t,_useEditorSelection=Object(EditorState.b)({id:props.id,type:"section"}),isSelected=_useEditorSelection.isSelected,select=_useEditorSelection.select,resetSelection=_useEditorSelection.resetSelection,settingsSelection=Object(EditorState.b)({id:props.id,type:"sectionSettings"}),transitionSelection=Object(EditorState.b)({id:props.id,type:"sectionTransition"}),nextTransitionSelection=Object(EditorState.b)({id:props.nextSection&&props.nextSection.id,type:"sectionTransition"}),isSectionSelected=isSelected||settingsSelection.isSelected;return react_default.a.createElement("div",{"aria-label":t("pageflow_scrolled.inline_editing.select_section"),className:className(isSectionSelected,transitionSelection),onMouseDown:function(event){event.target.closest(".".concat(ContentElementDecorator_module_default.a.wrapper))||(isSelected?resetSelection():select())}},react_default.a.createElement("div",{className:SectionDecorator_module_default.a.controls},react_default.a.createElement("div",{className:SectionDecorator_module_default.a.transitionToolbarBefore},react_default.a.createElement(EditTransitionButton,{id:props.previousSection&&props.id,selection:transitionSelection,position:"before"})),react_default.a.createElement("div",{className:SectionDecorator_module_default.a.editToolbar},react_default.a.createElement(EditSectionButton,{id:props.id,selection:settingsSelection,text:t("pageflow_scrolled.inline_editing.edit_section_settings"),icon:settings})),react_default.a.createElement("div",{className:SectionDecorator_module_default.a.transitionToolbarAfter},react_default.a.createElement(EditTransitionButton,{id:props.nextSection&&props.nextSection.id,selection:nextTransitionSelection,position:"after"}))),props.children)}function className(isSectionSelected,transitionSelection){var _classNames;return classnames_default()(SectionDecorator_module_default.a.wrapper,(_defineProperty(_classNames={},SectionDecorator_module_default.a.selected,isSectionSelected),_defineProperty(_classNames,SectionDecorator_module_default.a.transitionSelected,transitionSelection.isSelected),_classNames))}function EditTransitionButton(_ref){var id=_ref.id,position=_ref.position,selection=_ref.selection,t=Object(i18n.b)({locale:"ui"}).t;return id?react_default.a.createElement(EditSectionButton,{id:id,selection:selection,text:t("pageflow_scrolled.inline_editing.edit_section_transition_".concat(position)),icon:arrows}):null}function EditSectionButton(_ref2){_ref2.id;var selection=_ref2.selection,icon=_ref2.icon,text=_ref2.text;return react_default.a.createElement(Toolbar.a,{buttons:[{name:"button",active:selection.isSelected,icon:icon,text:text}],iconSize:20,onButtonClick:function onButtonClick(){return selection.select()}})}SectionDecorator.displayName="SectionDecorator",EditTransitionButton.displayName="EditTransitionButton",EditSectionButton.displayName="EditSectionButton",SectionDecorator.__docgenInfo={description:"",methods:[],displayName:"SectionDecorator"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/frontend/inlineEditing/SectionDecorator.js"]={name:"SectionDecorator",docgenInfo:SectionDecorator.__docgenInfo,path:"src/frontend/inlineEditing/SectionDecorator.js"});var api=__webpack_require__(367),SelectionRect=__webpack_require__(525);function postInsertContentElementMessage(_ref){var id=_ref.id,position=_ref.position,at=_ref.at;window.parent.postMessage({type:"INSERT_CONTENT_ELEMENT",payload:{id:id,position:position,at:at}},window.location.origin)}var useContentElementConfigurationUpdate=__webpack_require__(536),entryState=__webpack_require__(17);function ContentElementConfigurationUpdateProvider(_ref){var id=_ref.id,permaId=_ref.permaId,children=_ref.children,dispatch=Object(entryState.e)(),update=Object(react.useCallback)((function(configuration){!function postUpdateContentElementMessage(_ref2){var id=_ref2.id,configuration=_ref2.configuration;window.parent.postMessage({type:"UPDATE_CONTENT_ELEMENT",payload:{id:id,configuration:configuration}},window.location.origin)}({id:id,configuration:configuration}),Object(entryState.b)({dispatch:dispatch,permaId:permaId,configuration:configuration})}),[dispatch,permaId,id]);return react_default.a.createElement(useContentElementConfigurationUpdate.a.Provider,{value:update},children)}function ContentElementDecorator(props){return react_default.a.createElement("div",{className:ContentElementDecorator_module_default.a.wrapper},react_default.a.createElement(OptionalSelectionRect,props,react_default.a.createElement(ContentElementConfigurationUpdateProvider,{id:props.id,permaId:props.permaId},props.children)))}function OptionalSelectionRect(props){return(api.a.contentElementTypes.getOptions(props.type)||{}).customSelectionRect?props.children:react_default.a.createElement(DefaultSelectionRect,props,props.children)}function DefaultSelectionRect(props){var _useEditorSelection=Object(EditorState.b)({id:props.id,type:"contentElement"}),isSelected=_useEditorSelection.isSelected,select=_useEditorSelection.select;return react_default.a.createElement(SelectionRect.a,{selected:isSelected,onClick:function onClick(){return select()},onInsertButtonClick:function onInsertButtonClick(position){return postInsertContentElementMessage({id:props.id,position:position})}},props.children)}ContentElementConfigurationUpdateProvider.displayName="ContentElementConfigurationUpdateProvider",ContentElementConfigurationUpdateProvider.__docgenInfo={description:"",methods:[],displayName:"ContentElementConfigurationUpdateProvider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/frontend/inlineEditing/ContentElementConfigurationUpdateProvider.js"]={name:"ContentElementConfigurationUpdateProvider",docgenInfo:ContentElementConfigurationUpdateProvider.__docgenInfo,path:"src/frontend/inlineEditing/ContentElementConfigurationUpdateProvider.js"}),ContentElementDecorator.displayName="ContentElementDecorator",DefaultSelectionRect.displayName="DefaultSelectionRect",ContentElementDecorator.__docgenInfo={description:"",methods:[],displayName:"ContentElementDecorator"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/frontend/inlineEditing/ContentElementDecorator.js"]={name:"ContentElementDecorator",docgenInfo:ContentElementDecorator.__docgenInfo,path:"src/frontend/inlineEditing/ContentElementDecorator.js"});__webpack_require__(33),__webpack_require__(54),__webpack_require__(49),__webpack_require__(65),__webpack_require__(53),__webpack_require__(66),__webpack_require__(35),__webpack_require__(67),__webpack_require__(36),__webpack_require__(1642),__webpack_require__(37);var index_es=__webpack_require__(1638),dist_index_es=__webpack_require__(1640),Text=__webpack_require__(216),EditableText=__webpack_require__(537),debounce=__webpack_require__(1646),debounce_default=__webpack_require__.n(debounce);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function withCustomInsertBreak_slicedToArray(arr,i){return function withCustomInsertBreak_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function withCustomInsertBreak_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function withCustomInsertBreak_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}__webpack_require__(79),__webpack_require__(105),__webpack_require__(60),__webpack_require__(218),__webpack_require__(137),__webpack_require__(138),__webpack_require__(139),__webpack_require__(73),__webpack_require__(119);var index_module=__webpack_require__(1639),index_module_default=__webpack_require__.n(index_module);function bold_extends(){return(bold_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var bold=({styles:styles={},...props})=>react_default.a.createElement("svg",bold_extends({"aria-hidden":"true","data-prefix":"fas","data-icon":"bold",className:(styles["svg-inline--fa"]||"svg-inline--fa")+" "+(styles["fa-bold"]||"fa-bold")+" "+(styles["fa-w-12"]||"fa-w-12"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},props),react_default.a.createElement("path",{fill:"currentColor",d:"M333.49 238a122 122 0 0027-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 00-16 16v48a16 16 0 0016 16h31.87v288H34a16 16 0 00-16 16v48a16 16 0 0016 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 010 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 010 112z"}));function underline_extends(){return(underline_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var underline=({styles:styles={},...props})=>react_default.a.createElement("svg",underline_extends({"aria-hidden":"true","data-prefix":"fas","data-icon":"underline",className:(styles["svg-inline--fa"]||"svg-inline--fa")+" "+(styles["fa-underline"]||"fa-underline")+" "+(styles["fa-w-14"]||"fa-w-14"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},props),react_default.a.createElement("path",{fill:"currentColor",d:"M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0016-16V16a16 16 0 00-16-16H272a16 16 0 00-16 16v32a16 16 0 0016 16h32v160a80 80 0 01-160 0V64h32a16 16 0 0016-16V16a16 16 0 00-16-16H32a16 16 0 00-16 16v32a16 16 0 0016 16zm400 384H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16z"}));function italic_extends(){return(italic_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var italic=({styles:styles={},...props})=>react_default.a.createElement("svg",italic_extends({"aria-hidden":"true","data-prefix":"fas","data-icon":"italic",className:(styles["svg-inline--fa"]||"svg-inline--fa")+" "+(styles["fa-italic"]||"fa-italic")+" "+(styles["fa-w-10"]||"fa-w-10"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},props),react_default.a.createElement("path",{fill:"currentColor",d:"M320 48v32a16 16 0 01-16 16h-62.76l-80 320H208a16 16 0 0116 16v32a16 16 0 01-16 16H16a16 16 0 01-16-16v-32a16 16 0 0116-16h62.76l80-320H112a16 16 0 01-16-16V48a16 16 0 0116-16h192a16 16 0 0116 16z"}));function strikethrough_extends(){return(strikethrough_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var strikethrough=({styles:styles={},...props})=>react_default.a.createElement("svg",strikethrough_extends({"aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",className:(styles["svg-inline--fa"]||"svg-inline--fa")+" "+(styles["fa-strikethrough"]||"fa-strikethrough")+" "+(styles["fa-w-16"]||"fa-w-16"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},props),react_default.a.createElement("path",{fill:"currentColor",d:"M496 224H293.9l-87.17-26.83A43.55 43.55 0 01219.55 112h66.79A49.89 49.89 0 01331 139.58a16 16 0 0021.46 7.15l42.94-21.47a16 16 0 007.16-21.46l-.53-1A128 128 0 00287.51 32h-68a123.68 123.68 0 00-123 135.64c2 20.89 10.1 39.83 21.78 56.36H16a16 16 0 00-16 16v32a16 16 0 0016 16h480a16 16 0 0016-16v-32a16 16 0 00-16-16zm-180.24 96A43 43 0 01336 356.45 43.59 43.59 0 01292.45 400h-66.79A49.89 49.89 0 01181 372.42a16 16 0 00-21.46-7.15l-42.94 21.47a16 16 0 00-7.16 21.46l.53 1A128 128 0 00224.49 480h68a123.68 123.68 0 00123-135.64 114.25 114.25 0 00-5.34-24.36z"}));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function HoveringToolbar_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function HoveringToolbar(){var ref=Object(react.useRef)(),outerRef=Object(react.useRef)(),editor=Object(dist_index_es.d)();Object(react.useEffect)((function(){var el=ref.current,selection=editor.selection;if(el&&outerRef.current)if(selection&&dist_index_es.b.isFocused(editor)&&!index_es.e.isCollapsed(selection)&&""!==index_es.a.string(editor,selection)){var rect=window.getSelection().getRangeAt(0).getBoundingClientRect(),outerRect=outerRef.current.getBoundingClientRect();el.style.opacity=1,el.style.top="".concat(rect.bottom-outerRect.top+10,"px"),el.style.left="".concat(rect.left-outerRect.left,"px")}else el.removeAttribute("style")}));var buttons=[{name:"bold",text:"Bold",icon:bold},{name:"italic",text:"Italic",icon:italic},{name:"underline",text:"Underline",icon:underline},{name:"strikethrough",text:"Strikethrough",icon:strikethrough}].map((function(button){return function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){HoveringToolbar_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},button,{active:isMarkActive(editor,button.name)})}));return react_default.a.createElement("div",{ref:outerRef},react_default.a.createElement("div",{ref:ref,className:index_module_default.a.hoveringToolbar},react_default.a.createElement(Toolbar.a,{buttons:buttons,onButtonClick:function onButtonClick(name){return function toggleMark(editor,format){isMarkActive(editor,format)?index_es.a.removeMark(editor,format):index_es.a.addMark(editor,format,!0)}(editor,name)}})))}function isMarkActive(editor,format){var marks=index_es.a.marks(editor);return!!marks&&!0===marks[format]}HoveringToolbar.displayName="HoveringToolbar",HoveringToolbar.__docgenInfo={description:"",methods:[],displayName:"HoveringToolbar"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/frontend/inlineEditing/EditableText/HoveringToolbar.js"]={name:"HoveringToolbar",docgenInfo:HoveringToolbar.__docgenInfo,path:"src/frontend/inlineEditing/EditableText/HoveringToolbar.js"});__webpack_require__(845),__webpack_require__(535);var images_text=__webpack_require__(800),heading=__webpack_require__(801),listOl=__webpack_require__(803),listUl=__webpack_require__(802),quote=__webpack_require__(804);function Selection_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Selection_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function Selection_slicedToArray(arr,i){return function Selection_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Selection_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Selection_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Selection(props){var editor=Object(dist_index_es.d)(),ref=Object(react.useRef)(),outerRef=Object(react.useRef)(),innerRef=Object(react.useRef)(),boundsRef=Object(react.useRef)(),_useEditorSelection=Object(EditorState.b)({id:props.contentElementId,type:"contentElement"}),select=_useEditorSelection.select,isContentElementSelected=_useEditorSelection.isSelected;return Object(react.useEffect)((function(){var selection=editor.selection;if(ref.current)if(selection)if(isContentElementSelected||!boundsRef.current){isContentElementSelected||boundsRef.current||select();var _computeBounds2=Selection_slicedToArray(function computeBounds(editor){var domRange=window.getSelection().getRangeAt(0),range=dist_index_es.b.toSlateRange(editor,domRange),startPoint=index_es.e.start(range),endPoint=index_es.e.end(range),startPath=startPoint.path.slice(0,1),endPath=endPoint.path.slice(0,1);index_es.d.equals(startPath,endPath)||0!==endPoint.offset||(endPath=index_es.d.previous(endPath));return[startPath[0],endPath[0]]}(),2),start=_computeBounds2[0],end=_computeBounds2[1];boundsRef.current={start:start,end:end},function updateRect(editor,startIndex,endIndex,outer,el,inner){var startNode=index_es.c.get(editor,[startIndex]),endNode=index_es.c.get(editor,[endIndex]),startDOMNode=dist_index_es.b.toDOMNode(editor,startNode),endDOMNode=dist_index_es.b.toDOMNode(editor,endNode),startRect=startDOMNode.getBoundingClientRect(),endRect=endDOMNode.getBoundingClientRect(),outerRect=outer.getBoundingClientRect();el.style.display="block",el.style.top="".concat(startRect.top-outerRect.top,"px"),inner.style.height="".concat(endRect.bottom-startRect.top,"px")}(editor,start,end,outerRef.current,ref.current,innerRef.current)}else hideRect(ref.current);else boundsRef.current&&(hideRect(ref.current),boundsRef.current=null)})),react_default.a.createElement("div",{ref:outerRef},react_default.a.createElement("div",{ref:ref,className:index_module_default.a.selection},react_default.a.createElement(SelectionRect.a,{selected:!0,onInsertButtonClick:function onInsertButtonClick(position){0===boundsRef.current.start&&"before"===position?postInsertContentElementMessage({id:props.contentElementId,position:"before"}):"after"!==position||index_es.c.has(editor,[boundsRef.current.end+1])?postInsertContentElementMessage({id:props.contentElementId,position:"split",at:"before"===position?boundsRef.current.start:boundsRef.current.end+1}):postInsertContentElementMessage({id:props.contentElementId,position:"after"})},toolbarButtons:toolbarButtons.map((function(button){return function Selection_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?Selection_ownKeys(Object(source),!0).forEach((function(key){Selection_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Selection_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},button,{active:isBlockActive(editor,button.name)})})),onToolbarButtonClick:function onToolbarButtonClick(name){return function toggleBlock(editor,format){var isActive=isBlockActive(editor,format),isList=listTypes.includes(format);index_es.g.unwrapNodes(editor,{match:function match(n){return listTypes.includes(n.type)},split:!0}),index_es.g.setNodes(editor,{type:isActive?"paragraph":isList?"list-item":format}),!isActive&&isList&&index_es.g.wrapNodes(editor,{type:format,children:[]})}(editor,name)}},react_default.a.createElement("div",{ref:innerRef}))))}function hideRect(el){el.removeAttribute("style")}Selection.displayName="Selection";var listTypes=["numbered-list","bulleted-list"];function isBlockActive(editor,format){return!!Selection_slicedToArray(index_es.a.nodes(editor,{match:function(n){return n.type===format}}),1)[0]}var toolbarButtons=[{name:"paragraph",text:"Paragraph",icon:images_text.a},{name:"heading",text:"Heading",icon:heading.a},{name:"numbered-list",text:"Ordered List",icon:listOl.a},{name:"bulleted-list",text:"Bullet Points",icon:listUl.a},{name:"block-quote",text:"Block quit",icon:quote.a}];function EditableText_slicedToArray(arr,i){return function EditableText_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function EditableText_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function EditableText_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Selection.__docgenInfo={description:"",methods:[],displayName:"Selection"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/frontend/inlineEditing/EditableText/Selection.js"]={name:"Selection",docgenInfo:Selection.__docgenInfo,path:"src/frontend/inlineEditing/EditableText/Selection.js"});var EditableText_ref2=react_default.a.createElement(HoveringToolbar,null),_ref3=react_default.a.createElement(dist_index_es.a,{renderElement:EditableText.b,renderLeaf:EditableText.c}),EditableText_EditableText=react_default.a.memo((function(_ref){var value=_ref.value,contentElementId=_ref.contentElementId,onChange=_ref.onChange,editor=Object(react.useMemo)((function(){return function withCustomInsertBreak(editor){var insertBreak=editor.insertBreak;return editor.insertBreak=function(){var selection=editor.selection;if(selection&&index_es.e.isCollapsed(selection)){var match=index_es.a.above(editor,{match:function(n){return index_es.a.isBlock(editor,n)}});if(match){var _match=withCustomInsertBreak_slicedToArray(match,2),block=_match[0],path=_match[1];if(index_es.a.isEnd(editor,selection.anchor,path)&&"heading"===block.type)return void index_es.g.insertNodes(editor,{type:"paragraph",children:[{text:""}]})}}insertBreak()},editor}(Object(dist_index_es.e)(Object(index_es.h)()))}),[]),_useCachedValue2=EditableText_slicedToArray(function useCachedValue(value){var _ref=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},defaultValue=_ref.defaultValue,onReset=_ref.onReset,onDebouncedChange=_ref.onDebouncedChange,_ref$delay=_ref.delay,delay=void 0===_ref$delay?2e3:_ref$delay,_useState=Object(react.useState)(value||defaultValue),_useState2=_slicedToArray(_useState,2),cachedValue=_useState2[0],setCachedValue=_useState2[1],previousValue=Object(react.useRef)(value);Object(react.useEffect)((function(){previousValue.current!==value&&value!==cachedValue&&(onReset&&onReset(value),setCachedValue(value))}),[onReset,value,cachedValue]),Object(react.useEffect)((function(){previousValue.current=value}));var debouncedHandler=Object(react.useMemo)((function(){return onDebouncedChange&&debounce_default()(onDebouncedChange,delay)}),[onDebouncedChange,delay]),setValue=Object(react.useCallback)((function(value){setCachedValue((function(previousValue){return previousValue!==value&&debouncedHandler&&debouncedHandler(value),value}))}),[debouncedHandler]);return[cachedValue,setValue]}(value,{defaultValue:[{type:"paragraph",children:[{text:"Your Text here..."}]}],onDebouncedChange:onChange,onReset:function onReset(nextValue){return function resetSelectionIfOutsideNextValue(editor,nextValue){var nextEditor={children:nextValue};!editor.selection||index_es.c.has(nextEditor,editor.selection.anchor.path)&&index_es.c.has(nextEditor,editor.selection.focus.path)||index_es.g.deselect(editor)}(editor,nextValue)}}),2),cachedValue=_useCachedValue2[0],setCachedValue=_useCachedValue2[1];return react_default.a.createElement(Text.a,{scaleCategory:"body"},react_default.a.createElement("div",{className:index_module_default.a.container},react_default.a.createElement(dist_index_es.c,{editor:editor,value:cachedValue,onChange:setCachedValue},react_default.a.createElement(Selection,{contentElementId:contentElementId}),EditableText_ref2,_ref3)))}));__webpack_require__.d(__webpack_exports__,"EntryDecorator",(function(){return EntryDecorator})),__webpack_require__.d(__webpack_exports__,"SectionDecorator",(function(){return SectionDecorator})),__webpack_require__.d(__webpack_exports__,"ContentElementDecorator",(function(){return ContentElementDecorator})),__webpack_require__.d(__webpack_exports__,"EditableText",(function(){return EditableText_EditableText}))}}]);
//# sourceMappingURL=4.9080ddb5c6b42e3efb23.bundle.js.map