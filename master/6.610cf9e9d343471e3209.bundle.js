(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1674:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),classnames=(__webpack_require__(17),__webpack_require__(5)),classnames_default=__webpack_require__.n(classnames),esm=__webpack_require__(1712),SwipeToClose_module=__webpack_require__(1707),SwipeToClose_module_default=__webpack_require__.n(SwipeToClose_module);function SwipeToClose(_ref){var onClose=_ref.onClose,children=_ref.children,start=Object(react.useRef)(),inner=Object(react.useRef)(),ratio=Object(react.useRef)(0),handleTouchStart=Object(react.useCallback)((function(event){start.current=event.touches[0].pageY}),[]),handleTouchMove=Object(react.useCallback)((function(event){var offset=Math.max(-200,Math.min(200,event.touches[0].pageY-start.current));ratio.current=Math.abs(offset/200),requestAnimationFrame((function(){inner.current&&(inner.current.style.setProperty("transition","none"),inner.current.style.setProperty("transform","translate3d(0, ".concat(offset,"px, 0)")),inner.current.style.setProperty("opacity",1-ratio.current))}))}),[]),handleTouchEnd=Object(react.useCallback)((function(event){event.preventDefault(),.5<ratio.current&&onClose(),requestAnimationFrame((function(){inner.current&&(inner.current.style.setProperty("transition","opacity 0.2s linear, transform 0.2s ease"),inner.current.style.setProperty("transform","translate3d(0, 0, 0)"),inner.current.style.setProperty("opacity",1))}))}),[onClose]);return(react_default.a.createElement("div",{className:SwipeToClose_module_default.a.outer,onClick:onClose,onTouchStart:handleTouchStart,onTouchMove:handleTouchMove,onTouchEnd:handleTouchEnd},react_default.a.createElement("div",{className:SwipeToClose_module_default.a.inner,ref:inner},children)))}SwipeToClose.displayName="SwipeToClose",SwipeToClose.__docgenInfo={description:"",methods:[],displayName:"SwipeToClose"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/frontend/SwipeToClose.js"]={name:"SwipeToClose",docgenInfo:SwipeToClose.__docgenInfo,path:"src/frontend/SwipeToClose.js"});var ZoomableImage_module=__webpack_require__(1709),ZoomableImage_module_default=__webpack_require__.n(ZoomableImage_module);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ZoomableImage(_ref){var obj,key,value,onClose=_ref.onClose,imageFile=_ref.imageFile,imgRef=Object(react.useRef)(),_useState2=_slicedToArray(Object(react.useState)(!0),2),isVisible=_useState2[0],setIsVisible=_useState2[1],onUpdate=Object(react.useCallback)((function(_ref2){var x=_ref2.x,y=_ref2.y,scale=_ref2.scale;imgRef.current&&imgRef.current.style.setProperty("transform",Object(esm.b)({x:x,y:y,scale:scale}))}),[]),handleClose=Object(react.useCallback)((function(){onClose(),setIsVisible(!1)}),[onClose]);return(react_default.a.createElement("div",{className:ZoomableImage_module_default.a.full},react_default.a.createElement(SwipeToClose,{onClose:handleClose},react_default.a.createElement(esm.a,{containerProps:{className:ZoomableImage_module_default.a.container},onUpdate:onUpdate,isTouch:function isTouch(){return!0},minZoom:.8,maxZoom:5,tapZoomFactor:1.5,draggableUnZoomed:!1,doubleTapToggleZoom:!0,enforceBoundsDuringZoom:!0,centerContained:!0},react_default.a.createElement("img",{src:imageFile.urls.large,width:imageFile.width,height:imageFile.height,alt:"img",ref:imgRef,className:classnames_default()(ZoomableImage_module_default.a.img,(obj={},key=ZoomableImage_module_default.a.visible,value=isVisible,key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj))})))))}ZoomableImage.displayName="ZoomableImage",ZoomableImage.__docgenInfo={description:"",methods:[],displayName:"ZoomableImage"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/frontend/ExpandableImage/ZoomableImage.js"]={name:"ZoomableImage",docgenInfo:ZoomableImage.__docgenInfo,path:"src/frontend/ExpandableImage/ZoomableImage.js"});var ToggleFullscreenCornerButton=__webpack_require__(309),useContentElementEditorState=__webpack_require__(108),FullscreenViewer=__webpack_require__(535);function Viewer(_ref){var imageFile=_ref.imageFile,contentElementId=_ref.contentElementId,children=_ref.children,_useContentElementEdi=Object(useContentElementEditorState.b)(),isEditable=_useContentElementEdi.isEditable,isSelected=_useContentElementEdi.isSelected;return(react_default.a.createElement(FullscreenViewer.a,{contentElementId:contentElementId,renderChildren:function renderChildren(_ref2){var enterFullscreen=_ref2.enterFullscreen;return(react_default.a.createElement("div",{onClick:enterFullscreen,style:{pointerEvents:isEditable&&!isSelected?"none":void 0}},children,react_default.a.createElement(ToggleFullscreenCornerButton.a,{isFullscreen:!1,onEnter:enterFullscreen})))},renderFullscreenChildren:function renderFullscreenChildren(_ref3){var exitFullscreen=_ref3.exitFullscreen;return(react_default.a.createElement(ZoomableImage,{onClose:exitFullscreen,imageFile:imageFile}))}}))}__webpack_require__.d(__webpack_exports__,"default",(function(){return Viewer})),Viewer.displayName="Viewer",Viewer.__docgenInfo={description:"",methods:[],displayName:"Viewer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/frontend/ExpandableImage/Viewer.js"]={name:"Viewer",docgenInfo:Viewer.__docgenInfo,path:"src/frontend/ExpandableImage/Viewer.js"})},1707:function(module,exports,__webpack_require__){var api=__webpack_require__(9),content=__webpack_require__(1708);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},1708:function(module,exports,__webpack_require__){(exports=__webpack_require__(8)(!1)).push([module.i,".SwipeToClose-module_outer__3buOt,\n.SwipeToClose-module_inner__3L3tc {\n  height: 100%;\n}\n",""]),exports.locals={outer:"SwipeToClose-module_outer__3buOt",inner:"SwipeToClose-module_inner__3L3tc"},module.exports=exports},1709:function(module,exports,__webpack_require__){var api=__webpack_require__(9),content=__webpack_require__(1710);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},1710:function(module,exports,__webpack_require__){(exports=__webpack_require__(8)(!1)).push([module.i,".ZoomableImage-module_full__2eLrX {\n  height: 100%;\n  width: 100%;\n}\n\n.ZoomableImage-module_container__32sYV {\n  height: 100%;\n}\n\n.ZoomableImage-module_img__1LJxf {\n  max-width: 100%;\n  height: auto;\n  visibility: hidden;\n}\n\n.ZoomableImage-module_visible__3oyq- {\n  visibility: visible;\n}\n",""]),exports.locals={full:"ZoomableImage-module_full__2eLrX",container:"ZoomableImage-module_container__32sYV",img:"ZoomableImage-module_img__1LJxf",visible:"ZoomableImage-module_visible__3oyq-"},module.exports=exports}}]);
//# sourceMappingURL=6.610cf9e9d343471e3209.bundle.js.map